!function(w){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,i){},onAfterSlide:function(e,i){},onBeforeNextSlide:function(e,i){},onBeforePrevSlide:function(e,i){}};w.fn.lightSlider=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){w(this).lightSlider(e)}),this;var t={},c=w.extend(!0,{},n,e),l={},u=this;t.$el=this,"fade"===c.mode&&(c.vertical=!1);var d=u.children(),a=w(window).width(),o=null,s=0,h=0,i=!1,f=0,g="",v=0,p=!0===c.vertical?"height":"width",m=!0===c.vertical?"margin-bottom":"margin-right",S=0,b=0,C=0,M=0,r=null,T="ontouchstart"in document.documentElement,x={chbreakpoint:function(){if(a=w(window).width(),c.responsive.length){var e;if(!1===c.autoWidth&&(e=c.item),a<c.responsive[0].breakpoint)for(var i=0;i<c.responsive.length;i++)a<c.responsive[i].breakpoint&&(c.responsive[i].breakpoint,o=c.responsive[i]);if(null!=o)for(var t in o.settings)o.settings.hasOwnProperty(t)&&(void 0!==l[t]&&null!==l[t]||(l[t]=c[t]),c[t]=o.settings[t]);if(!w.isEmptyObject(l)&&a>c.responsive[0].breakpoint)for(var n in l)l.hasOwnProperty(n)&&(c[n]=l[n]);!1===c.autoWidth&&0<S&&0<C&&e!==c.item&&(v=Math.round(S/((C+c.slideMargin)*c.slideMove)))}},calSW:function(){!1===c.autoWidth&&(C=(f-(c.item*c.slideMargin-c.slideMargin))/c.item)},calWidth:function(e){var i=!0===e?g.find(".lslide").length:d.length;if(!1===c.autoWidth)h=i*(C+c.slideMargin);else for(var t=h=0;t<i;t++)h+=parseInt(d.eq(t).width())+c.slideMargin;return h}};return(t={doCss:function(){return!(!c.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,t=0;t<e.length;t++)if(e[t]in i.style)return!0}())},keyPress:function(){c.keyPress&&w(document).on("keyup.lightslider",function(e){w(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?u.goToPrevSlide():39===e.keyCode&&u.goToNextSlide())})},controls:function(){c.controls&&(u.after('<div class="lSAction"><a class="lSPrev">'+c.prevHtml+'</a><a class="lSNext">'+c.nextHtml+"</a></div>"),c.autoWidth?x.calWidth(!1)<f&&g.find(".lSAction").hide():s<=c.item&&g.find(".lSAction").hide(),g.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,"lSPrev"===w(this).attr("class")?u.goToPrevSlide():u.goToNextSlide(),!1}))},initialStyle:function(){var r=this;"fade"===c.mode&&(c.autoWidth=!1,c.slideEndAnimation=!1),c.auto&&(c.slideEndAnimation=!1),c.autoWidth&&(c.slideMove=1,c.item=1),c.loop&&(c.slideMove=1,c.freeMove=!1),c.onBeforeStart.call(this,u),x.chbreakpoint(),u.addClass("lightSlider").wrap('<div class="lSSlideOuter '+c.addClass+'"><div class="lSSlideWrapper"></div></div>'),g=u.parent(".lSSlideWrapper"),!0===c.rtl&&g.parent().addClass("lSrtl"),c.vertical?(g.parent().addClass("vertical"),f=c.verticalHeight,g.css("height",f+"px")):f=u.outerWidth(),d.addClass("lslide"),!0===c.loop&&"slide"===c.mode&&(x.calSW(),x.clone=function(){if(x.calWidth(!0)>f){for(var e=0,i=0,t=0;t<d.length&&(i++,!((e+=parseInt(u.find(".lslide").eq(t).width())+c.slideMargin)>=f+c.slideMargin));t++);var n=!0===c.autoWidth?i:c.item;if(n<u.find(".clone.left").length)for(var l=0;l<u.find(".clone.left").length-n;l++)d.eq(l).remove();if(n<u.find(".clone.right").length)for(var a=d.length-1;a>d.length-1-u.find(".clone.right").length;a--)v--,d.eq(a).remove();for(var o=u.find(".clone.right").length;o<n;o++)u.find(".lslide").eq(o).clone().removeClass("lslide").addClass("clone right").appendTo(u),v++;for(var s=u.find(".lslide").length-u.find(".clone.left").length;s>u.find(".lslide").length-n;s--)u.find(".lslide").eq(s-1).clone().removeClass("lslide").addClass("clone left").prependTo(u);d=u.children()}else d.hasClass("clone")&&(u.find(".clone").remove(),r.move(u,0))},x.clone()),x.sSW=function(){s=d.length,!0===c.rtl&&!1===c.vertical&&(m="margin-left"),!1===c.autoWidth&&d.css(p,C+"px"),d.css(m,c.slideMargin+"px"),h=x.calWidth(!1),u.css(p,h+"px"),!0===c.loop&&"slide"===c.mode&&!1===i&&(v=u.find(".clone.left").length)},x.calL=function(){d=u.children(),s=d.length},this.doCss()&&g.addClass("usingCss"),x.calL(),"slide"===c.mode?(x.calSW(),x.sSW(),!0===c.loop&&(S=r.slideValue(),this.move(u,S)),!1===c.vertical&&this.setHeight(u,!1)):(this.setHeight(u,!0),u.addClass("lSFade"),this.doCss()||(d.fadeOut(0),d.eq(v).fadeIn(0))),!0===c.loop&&"slide"===c.mode?d.eq(v).addClass("active"):d.first().addClass("active")},pager:function(){var e,i,d=this;x.createPager=function(){M=(f-(c.thumbItem*c.thumbMargin-c.thumbMargin))/c.thumbItem;for(var e=g.find(".lslide"),i=g.find(".lslide").length,t=0,n="",l=0,t=0;t<i;t++){"slide"===c.mode&&(c.autoWidth?l+=(parseInt(e.eq(t).width())+c.slideMargin)*c.slideMove:l=t*(C+c.slideMargin)*c.slideMove);var a=e.eq(t*c.slideMove).attr("data-thumb");if(n+=!0===c.gallery?'<li style="width:100%;'+p+":"+M+"px;"+m+":"+c.thumbMargin+'px"><a href="#"><img src="'+a+'" /></a></li>':'<li><a href="#">'+(t+1)+"</a></li>","slide"===c.mode&&l>=h-f-c.slideMargin){t+=1;var o=2;c.autoWidth&&(n+='<li><a href="#">'+(t+1)+"</a></li>",o=1),t<o?(n=null,g.parent().addClass("noPager")):g.parent().removeClass("noPager");break}}var s=g.parent();s.find(".lSPager").html(n),!0===c.gallery&&(!0===c.vertical&&s.find(".lSPager").css("width",c.vThumbWidth+"px"),b=t*(c.thumbMargin+M)+.5,s.find(".lSPager").css({property:b+"px","transition-duration":c.speed+"ms"}),!0===c.vertical&&g.parent().css("padding-right",c.vThumbWidth+c.galleryMargin+"px"),s.find(".lSPager").css(p,b+"px"));var r=s.find(".lSPager").find("li");r.first().addClass("active"),r.on("click",function(){return!0===c.loop&&"slide"===c.mode?v+=r.index(this)-s.find(".lSPager").find("li.active").index():v=r.index(this),u.mode(!1),!0===c.gallery&&d.slideThumb(),!1})},c.pager&&(e="lSpg",c.gallery&&(e="lSGallery"),g.after('<ul class="lSPager '+e+'"></ul>'),i=c.vertical?"margin-left":"margin-top",g.parent().find(".lSPager").css(i,c.galleryMargin+"px"),x.createPager()),setTimeout(function(){x.init()},0)},setHeight:function(n,l){function e(){var e=a.outerHeight(),i=0,t=e;l&&(e=0,i=100*t/f),n.css({height:e+"px","padding-bottom":i+"%"})}var a=null,i=this,a=c.loop?n.children(".lslide ").first():n.children().first();e(),a.find("img").length?a.find("img")[0].complete?(e(),r||i.auto()):a.find("img").on("load",function(){setTimeout(function(){e(),r||i.auto()},100)}):r||i.auto()},active:function(e,i){this.doCss()&&"fade"===c.mode&&g.addClass("on");var t,n,l=0;v*c.slideMove<s?(e.removeClass("active"),this.doCss()||"fade"!==c.mode||!1!==i||e.fadeOut(c.speed),l=!0===i?v:v*c.slideMove,!0===i&&(n=(t=e.length)-1,t<=l+1&&(l=n)),!0===c.loop&&"slide"===c.mode&&(l=!0===i?v-u.find(".clone.left").length:v*c.slideMove,!0===i&&(n=(t=e.length)-1,l+1===t?l=n:t<l+1&&(l=0))),this.doCss()||"fade"!==c.mode||!1!==i||e.eq(l).fadeIn(c.speed),e.eq(l).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==c.mode||!1!==i||(e.fadeOut(c.speed),e.eq(l).fadeIn(c.speed)))},move:function(e,i){!0===c.rtl&&(i=-i),this.doCss()?e.css(!0===c.vertical?{transform:"translate3d(0px, "+-i+"px, 0px)","-webkit-transform":"translate3d(0px, "+-i+"px, 0px)"}:{transform:"translate3d("+-i+"px, 0px, 0px)","-webkit-transform":"translate3d("+-i+"px, 0px, 0px)"}):!0===c.vertical?e.css("position","relative").animate({top:-i+"px"},c.speed,c.easing):e.css("position","relative").animate({left:-i+"px"},c.speed,c.easing);var t=g.parent().find(".lSPager").find("li");this.active(t,!0)},fade:function(){this.active(d,!1);var e=g.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;x.calSlide=function(){f<h&&(S=e.slideValue(),e.active(d,!1),S>h-f-c.slideMargin?S=h-f-c.slideMargin:S<0&&(S=0),e.move(u,S),!0===c.loop&&"slide"===c.mode&&(v>=s-u.find(".clone.left").length/c.slideMove&&e.resetSlide(u.find(".clone.left").length),0===v&&e.resetSlide(g.find(".lslide").length)))},x.calSlide()},resetSlide:function(e){var i=this;g.find(".lSAction a").addClass("disabled"),setTimeout(function(){v=e,g.css("transition-duration","0ms"),S=i.slideValue(),i.active(d,!1),t.move(u,S),setTimeout(function(){g.css("transition-duration",c.speed+"ms"),g.find(".lSAction a").removeClass("disabled")},50)},c.speed+100)},slideValue:function(){var e=0;if(!1===c.autoWidth)e=v*(C+c.slideMargin)*c.slideMove;else for(var i=e=0;i<v;i++)e+=parseInt(d.eq(i).width())+c.slideMargin;return e},slideThumb:function(){var e;switch(c.currentPagerPosition){case"left":e=0;break;case"middle":e=f/2-M/2;break;case"right":e=f-M}var i=v-u.find(".clone.left").length,t=g.parent().find(".lSPager");"slide"===c.mode&&!0===c.loop&&(i>=t.children().length?i=0:i<0&&(i=t.children().length));var n=i*(M+c.thumbMargin)-e;b<n+f&&(n=b-f-c.thumbMargin),n<0&&(n=0),this.move(t,n)},auto:function(){c.auto&&(clearInterval(r),r=setInterval(function(){u.goToNextSlide()},c.pause))},pauseOnHover:function(){var e=this;c.auto&&c.pauseOnHover&&(g.on("mouseenter",function(){w(this).addClass("ls-hover"),u.pause(),c.auto=!0}),g.on("mouseleave",function(){w(this).removeClass("ls-hover"),g.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,i){var t,n;g.css("transition-duration","0ms"),"slide"===c.mode&&((n=S-(e-i))>=h-f-c.slideMargin?n=!1===c.freeMove?h-f-c.slideMargin:(t=h-f-c.slideMargin)+(n-t)/5:n<0&&(!1===c.freeMove?n=0:n/=5),this.move(u,n))},touchEnd:function(e){var a,i,t;g.css("transition-duration",c.speed+"ms"),"slide"===c.mode?(i=!(a=!1),(S-=e)>h-f-c.slideMargin?(S=h-f-c.slideMargin,!1===c.autoWidth&&(a=!0)):S<0&&(S=0),t=function(e){var i=0;if(a||e&&(i=1),c.autoWidth)for(var t=0,n=0;n<d.length&&(t+=parseInt(d.eq(n).width())+c.slideMargin,v=n+i,!(S<=t));n++);else{var l=S/((C+c.slideMargin)*c.slideMove);v=parseInt(l)+i,S>=h-f-c.slideMargin&&l%1!=0&&v++}},e>=c.swipeThreshold?(t(!1),i=!1):e<=-c.swipeThreshold&&(t(!0),i=!1),u.mode(i),this.slideThumb()):e>=c.swipeThreshold?u.goToPrevSlide():e<=-c.swipeThreshold&&u.goToNextSlide()},enableDrag:function(){var t,n,l,a=this;T||(n=t=0,l=!1,g.find(".lightSlider").addClass("lsGrab"),g.on("mousedown",function(e){return!(h<f&&0!==h)&&void("lSPrev"!==w(e.target).attr("class")&&"lSNext"!==w(e.target).attr("class")&&(t=!0===c.vertical?e.pageY:e.pageX,l=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,g.scrollLeft+=1,--g.scrollLeft,g.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(r)))}),w(window).on("mousemove",function(e){l&&(n=!0===c.vertical?e.pageY:e.pageX,a.touchMove(n,t))}),w(window).on("mouseup",function(e){var i;l&&(g.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),i=(n=!(l=!1)===c.vertical?e.pageY:e.pageX)-t,Math.abs(i)>=c.swipeThreshold&&w(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),w(window).off("click.ls")}),a.touchEnd(i))}))},enableTouch:function(){var l,a,o=this;T&&(l={},a={},g.on("touchstart",function(e){a=e.originalEvent.targetTouches[0],l.pageX=e.originalEvent.targetTouches[0].pageX,l.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(r)}),g.on("touchmove",function(e){if(h<f&&0!==h)return!1;var i=e.originalEvent;a=i.targetTouches[0];var t=Math.abs(a.pageX-l.pageX),n=Math.abs(a.pageY-l.pageY);!0===c.vertical?(t<3*n&&e.preventDefault(),o.touchMove(a.pageY,l.pageY)):(n<3*t&&e.preventDefault(),o.touchMove(a.pageX,l.pageX))}),g.on("touchend",function(){return!(h<f&&0!==h)&&(e=!0===c.vertical?a.pageY-l.pageY:a.pageX-l.pageX,void o.touchEnd(e));var e}))},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===c.enableTouch&&e.enableTouch(),!0===c.enableDrag&&e.enableDrag()),w(window).on("focus",function(){e.auto()}),w(window).on("blur",function(){clearInterval(r)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),x.init=function(){x.chbreakpoint(),!0===c.vertical?(f=1<c.item?c.verticalHeight:d.outerHeight(),g.css("height",f+"px")):f=g.outerWidth(),!0===c.loop&&"slide"===c.mode&&x.clone(),x.calL(),"slide"===c.mode&&u.removeClass("lSSlide"),"slide"===c.mode&&(x.calSW(),x.sSW()),setTimeout(function(){"slide"===c.mode&&u.addClass("lSSlide")},1e3),c.pager&&x.createPager(),!0===c.adaptiveHeight&&!1===c.vertical&&u.css("height",d.eq(v).outerHeight(!0)),!1===c.adaptiveHeight&&("slide"===c.mode?!1===c.vertical?t.setHeight(u,!1):t.auto():t.setHeight(u,!0)),!0===c.gallery&&t.slideThumb(),"slide"===c.mode&&t.slide(),!1===c.autoWidth?d.length<=c.item?g.find(".lSAction").hide():g.find(".lSAction").show():x.calWidth(!1)<f&&0!==h?g.find(".lSAction").hide():g.find(".lSAction").show()},u.goToPrevSlide=function(){0<v?(c.onBeforePrevSlide.call(this,u,v),v--,u.mode(!1),!0===c.gallery&&t.slideThumb()):!0===c.loop?(c.onBeforePrevSlide.call(this,u,v),"fade"===c.mode&&(v=parseInt((s-1)/c.slideMove)),u.mode(!1),!0===c.gallery&&t.slideThumb()):!0===c.slideEndAnimation&&(u.addClass("leftEnd"),setTimeout(function(){u.removeClass("leftEnd")},400))},u.goToNextSlide=function(){var e=!0;"slide"===c.mode&&(e=t.slideValue()<h-f-c.slideMargin),v*c.slideMove<s-c.slideMove&&e?(c.onBeforeNextSlide.call(this,u,v),v++,u.mode(!1),!0===c.gallery&&t.slideThumb()):!0===c.loop?(c.onBeforeNextSlide.call(this,u,v),v=0,u.mode(!1),!0===c.gallery&&t.slideThumb()):!0===c.slideEndAnimation&&(u.addClass("rightEnd"),setTimeout(function(){u.removeClass("rightEnd")},400))},u.mode=function(e){!0===c.adaptiveHeight&&!1===c.vertical&&u.css("height",d.eq(v).outerHeight(!0)),!1===i&&("slide"===c.mode?t.doCss()&&(u.addClass("lSSlide"),""!==c.speed&&g.css("transition-duration",c.speed+"ms"),""!==c.cssEasing&&g.css("transition-timing-function",c.cssEasing)):t.doCss()&&(""!==c.speed&&u.css("transition-duration",c.speed+"ms"),""!==c.cssEasing&&u.css("transition-timing-function",c.cssEasing))),e||c.onBeforeSlide.call(this,u,v),"slide"===c.mode?t.slide():t.fade(),g.hasClass("ls-hover")||t.auto(),setTimeout(function(){e||c.onAfterSlide.call(this,u,v)},c.speed),i=!0},u.play=function(){u.goToNextSlide(),c.auto=!0,t.auto()},u.pause=function(){c.auto=!1,clearInterval(r)},u.refresh=function(){x.init()},u.getCurrentSlideCount=function(){var e,i,t=v;return c.loop&&(e=g.find(".lslide").length,i=u.find(".clone.left").length,t=v<=i-1?e+(v-i):e+i<=v?v-e-i:v-i),t+1},u.getTotalSlideCount=function(){return g.find(".lslide").length},u.goToSlide=function(e){v=c.loop?e+u.find(".clone.left").length-1:e,u.mode(!1),!0===c.gallery&&t.slideThumb()},u.destroy=function(){u.lightSlider&&(u.goToPrevSlide=function(){},u.goToNextSlide=function(){},u.mode=function(){},u.play=function(){},u.pause=function(){},u.refresh=function(){},u.getCurrentSlideCount=function(){},u.getTotalSlideCount=function(){},u.goToSlide=function(){},u.lightSlider=null,x={init:function(){}},u.parent().parent().find(".lSAction, .lSPager").remove(),u.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),u.children().removeAttr("style"),d.removeClass("lslide active"),u.find(".clone").remove(),r=d=null,i=!1,v=0)},setTimeout(function(){c.onSliderLoad.call(this,u)},10),w(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,x.init()},200)}),this}}(jQuery);